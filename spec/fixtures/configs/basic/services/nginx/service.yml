---
name: "nginx"
image: "nginx:1.23.4"

environment:
  FOO: bar
  SOME_VAR: true

roles:
  web:
    container_count: 2
    environment:
      FOO: baz
    hosts:
      - host1
      - host2
    ingress:
      - type: port
        source: 80
        target: 80
    mounts:
      - type: volume
        source: my-nginx-data
        target: /data
    configs:
      - source: nginx.conf
        target: /etc/nginx/conf.d/default.conf
    assets:
      - source: index.html
        target: /usr/share/nginx/html/index.html
